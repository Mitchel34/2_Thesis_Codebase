{
  "command": "PYTHONPATH=. python modeling/train_quick_transformer_torch.py --data data/clean/modeling/hourly_training_2010-01-01_2022-12-31.parquet --seq-len 168 --epochs 35 --batch-size 64 --patience 5 --d-model 128 --num-heads 4 --num-layers 4 --conv-depth 4 --dropout 0.1 --lr 5e-4 --quantiles 0.05,0.1,0.25,0.5,0.75,0.9,0.95 --quantile-weights 0.2,0.3,0.6,1.2,0.6,0.3,0.2 --weight-nse 0.2 --weight-quantile 0.1 --flow-emphasis 0.25 --consistency-weight 2.5 --weight-pbias 0.03 --residual-bias-weight 0.002 --bias-shift-alpha 0.2 --bias-shift-qmin 0.05 --bias-shift-qmax 0.9 --bias-shift-weight-power -0.25 --output-prefix baseline_multiscale_cons25_midshift02 --no-compile --no-ranger",
  "notes": "First pass at lighter post-training bias calibration using quantile-trimmed residual shift (5-90%) with magnitude taper toward low flows (power=-0.25).",
  "metrics": {
    "baseline": {
      "rmse": 5.971522001227854,
      "mae": 1.7772712879674828,
      "nse": 0.5188793817601274,
      "kge": 0.6385862839423266,
      "pbias": -5.994797959062143,
      "pearson_r": 0.7229607279606824,
      "spearman_r": 0.8319274069321457
    },
    "corrected": {
      "rmse": 5.170916128652505,
      "mae": 1.2721500712662632,
      "nse": 0.6392395810116314,
      "kge": 0.7188792012573497,
      "pbias": -2.4649037843941803,
      "pearson_r": 0.7996444925845997,
      "spearman_r": 0.940846160313744
    },
    "rmse_residual": 5.170916557312012,
    "rmse_improvement_pct": 13.40706560924886,
    "output_prefix": "baseline_multiscale_cons25_midshift02",
    "quantiles": {
      "0.05": {
        "coverage": 0.011548432712703276,
        "bias": -2.5499765872955322
      },
      "0.10": {
        "coverage": 0.07494697148244167,
        "bias": -2.05248761177063
      },
      "0.25": {
        "coverage": 0.4267028046193731,
        "bias": -1.050170660018921
      },
      "0.50": {
        "coverage": 0.6818288946500117,
        "bias": 0.5265263319015503
      },
      "0.75": {
        "coverage": 0.8970068347867075,
        "bias": 2.2518835067749023
      },
      "0.90": {
        "coverage": 0.9569879802026868,
        "bias": 5.565549373626709
      },
      "0.95": {
        "coverage": 0.9665331133631865,
        "bias": 6.311648368835449
      }
    }
  }
}
